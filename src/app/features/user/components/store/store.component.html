<!-- main title  -->
<div class="container-fulid">
  <div class="banner-title">
    <div class="banner-content">
      <div class="banner-caption">
        <h4>ุงููุชุฌุฑ</h4>
        <div class="position">
          <h6>ุงููุชุฌุฑ</h6>
          <span><<</span>
          <h6>ุงูุฑุฆูุณูุฉ</h6>
        </div>
      </div>
    </div>
  </div>
</div>

<section class="store">
  <div class="container">
    <div class="headStore">
      <div class="title ms-auto">
        <h4>ุงููุชุฌุฑ</h4>
      </div>
      <div class="options">
        <!-- ุงูููุชุฑุฉ ูุงูุชุญูู ูู ุงูุนุฑุถ -->
        <div
          class="d-flex flex-wrap align-items-center justify-content-between bg-light p-3 rounded-4 shadow-sm gap-3"
        >
          <!-- ุฃุฒุฑุงุฑ ุนุฑุถ ุงูุดุจูุฉ -->
          <div class="btns">
            <button
              class="btn"
              (click)="showData(4, 'col-md-6')"
              (click)="changeItemPerPage(4)"
              title="ุนุฑุถ 4 ููุชุฌุงุช"
            >
              <i class="fa-solid fa-table-cells-large fs-5"></i>
            </button>
            <button
              class="btn"
              (click)="showData(6, 'col-md-4')"
              (click)="changeItemPerPage(6)"
              title="ุนุฑุถ 6 ููุชุฌุงุช"
            >
              <i class="fa-solid fa-grip fs-5"></i>
            </button>
            <button
              class="btn"
              (click)="showData(8, 'col-md-3')"
              (click)="changeItemPerPage(8)"
              title="ุนุฑุถ 8 ููุชุฌุงุช"
            >
              <i class="fa-solid fa-table-cells fs-5"></i>
            </button>
          </div>

          <div
            class="container-options d-flex justify-content-between align-items-center gap-3"
          >
            <!-- ุนุฏุฏ ุงูููุชุฌุงุช -->
            <div class="">
              <label
                for="productCount"
                class="form-label fw-semibold text-secondary mb-1"
                >ุนุฏุฏ ุงูููุชุฌุงุช</label
              >
              <select
                id="productCount"
                class="form-select"
                (change)="changeItemPerPage(undefined, $event)"
              >
                <option selected value="8">8 ููุชุฌุงุช</option>
                <option value="16">16 ููุชุฌ</option>
                <option value="32">32 ููุชุฌ</option>
                <option value="64">64 ููุชุฌ</option>
                <option value="128">128 ููุชุฌ</option>
              </select>
            </div>

            <!-- ุชุฑุชูุจ ุญุณุจ -->
            <div class="d-flex flex-column">
              <label
                for="sortBy"
                class="form-label fw-semibold text-secondary mb-1"
                >ุชุฑุชูุจ ุญุณุจ</label
              >
              <select
                id="sortBy"
                class="form-select"
                (change)="sortProducts($event)"
              >
                <option value="default">ุงูุงูุชุฑุงุถู</option>
                <option value="az">ูู ุฃ - ู</option>
                <option value="za">ูู ู - ุฃ</option>
                <option value="priceLow">ุงูุณุนุฑ ูู ุงูุฃูู ููุฃุนูู</option>
                <option value="priceHigh">ุงูุณุนุฑ ูู ุงูุฃุนูู ููุฃูู</option>
                <option value="discountHigh">ุฃุนูู ุฎุตู</option>
                <option value="discountLow">ุฃูู ุฎุตู</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row row-store">
      @if(productsDataFilter){ @for (item of productsDataFilter; track $index) {
      <div [ngClass]="colClass">
        <div class="box-store">
          <div class="picture-store">
            <img [src]="item.image" class="img-fluid" alt="" />
            <div class="icons-store">
              <div class="fav-icon">
                <i
                  class="fa-regular fa-heart"
                  (click)="favouritBtn(item)"
                  [ngClass]="{ active: isFavourite(item) }"
                ></i>
                <a *ngIf="isFavourite(item)" routerLink="/user/wishlist"
                  >ุชุตูุญ ูุงุฆูุฉ ุงูุฑุบุจุงุช</a
                >
              </div>
              <i
                class="fa-solid fa-check compare"
                (click)="compareBtn(item)"
              ></i>
              <i
                class="fa-solid fa-magnifying-glass"
                (click)="showModel(item.id)"
              ></i>
            </div>
          </div>
          <div class="caption-store">
            <h4>{{ item.name }}</h4>
            <p>{{ item.category }}</p>
          </div>
          <div class="price-cart-store">
            <h6 class="d-flex justify-content-between gap-1">
              <span>ุฌ.ู</span> {{ item.total }}
            </h6>
            <button class="btn btn-outline-danger" (click)="cart(item)">
              <a
                ><i class="fa-solid fa-cart-shopping ms-1"></i>ุงุถุงูุฉ ุงูู
                ุงูุณูุฉ</a
              >
            </button>
          </div>
        </div>
      </div>
      } }
    </div>
    <div class="pagination-controls text-center mt-4">
      <button
        class="btn btn-secondary me-2 ms-4"
        (click)="prevPage()"
        [disabled]="currentPage === 1"
      >
        ุงูุณุงุจู
      </button>

      <span>ุตูุญุฉ {{ currentPage }} ูู {{ totalPages }}</span>

      <button
        class="btn btn-secondary ms-2 me-4"
        (click)="nextPage()"
        [disabled]="currentPage === totalPages"
      >
        ุงูุชุงูู
      </button>
    </div>
  </div>
</section>

<div
  class="modal fade"
  id="wishlistModal"
  tabindex="-1"
  aria-labelledby="wishlistModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content wishlist-modal">
      <div class="modal-body text-center">
        <div class="icon mb-3">
          <i class="fa-solid fa-heart-circle-check"></i>
        </div>
        <h5 class="mb-3">ุชู ุฅุถุงูุฉ ุงูููุชุฌ ุฅูู ูุงุฆูุฉ ุฑุบุจุงุชู โค๏ธ</h5>
        <p class="mb-4">ููููู ุงูุขู ุนุฑุถ ุฌููุน ุงูููุชุฌุงุช ุงูููุถูุฉ ูุฏูู ูู ููุง</p>
        <a routerLink="/user/wishlist" class="btn btn-danger">
          <i class="fa-solid fa-list me-2"></i>
          ุนุฑุถ ุตูุญุฉ ูุงุฆูุฉ ุฑุบุจุงุชู
        </a>
      </div>
    </div>
  </div>
</div>


<div
  class="modal fade"
  id="compareModal"
  tabindex="-1"
  aria-labelledby="compareModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content compare-modal">
      <div class="modal-body text-center">
        <div class="icon-circle">
          <i class="fa-solid fa-car-side"></i>
        </div>
        <h5 class="mt-3 text-light">ุชู ุฅุถุงูุฉ ุงูููุชุฌ ุฅูู ุงูููุงุฑูุฉ</h5>
        <p class="text-secondary small mb-3">ููููู ุนุฑุถ ูููุงุฑูุฉ ุงูุชูุงุตูู ุงูุขู</p>
        <a routerLink="/user/product-compare" class="btn btn-primary w-100">
          ุนุฑุถ ุตูุญุฉ ุงูููุงุฑูุฉ
        </a>
      </div>
    </div>
  </div>
</div>

<!-- ุงูููุฏุงู ุงูุฎุงุต ุจุงูุนุฑุถ ุงูุณุฑูุน -->
<div class="modal-quicklook" [ngClass]="quicklook ? 'd-flex' : 'd-none'">
  <div class="modal-box">
    <button class="btn btn-danger close" (click)="showModel()">
      <i class="fa-solid fa-xmark"></i>
    </button>
    @if (modelData) {
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div class="modal-info">
            <h3>{{ modelData.name }}</h3>
            <p class="rating">โญโญโญโญโ</p>
            <h6 class="d-flex justify-content-end gap-1">
              <span>ุฌ.ู</span> {{ modelData.price }}
            </h6>
            <p class="desc">{{ modelData.description }}</p>

            <div class="counter">
              <button (click)="decrease()">-</button>
              <span>{{ modelData.quntity }}</span>
              <button (click)="increase()">+</button>
            </div>
            <div class="btns">
              <div class="extra-icons">
                <i (click)="compareBtn(modelData)" class="fa-solid fa-check compare"></i>
                <i
                  class="fa-regular fa-heart"
                  (click)="favouritBtn(modelData)"
                  [ngClass]="{ active: isFavourite(modelData) }"
                ></i>
                <a
                  class="mes"
                  *ngIf="isFavourite(modelData)"
                  routerLink="/user/wishlist"
                  >ุชุตูุญ ูุงุฆูุฉ ุงูุฑุบุจุงุช</a
                >
              </div>
              <button class="btn btn-danger" (click)="cart(modelData)">
                ุฅุถุงูุฉ ุฅูู ุงูุณูุฉ
              </button>
            </div>

            <p class="info-note">๐ ูขู ุดุฎุต ุฃุถุงููุง ูุฐุง ุงูููุชุฌ ุฅูู ุนุฑุจุฉ ุงูุชุณูู</p>
            <div class="product-meta">
              <p>
                <strong>{{ modelData.marka }} :ุงููุงุฑูุฉ</strong>
              </p>
              <p>
                <strong>{{ modelData.code }} :ููุฏ ุงูููุชุฌ </strong>
              </p>
              <p>
                <strong>ุงููุชููุฑ: {{ modelData.count }}</strong>
              </p>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="modal-image">
            <img [src]="modelData.image" class="img-fluid" alt="" />
          </div>
        </div>
      </div>
    </div>
    }
  </div>
</div>
